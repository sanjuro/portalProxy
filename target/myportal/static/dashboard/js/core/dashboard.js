(function(b){window.bc=window.bc||{};window.bd=window.bd||{};window.be=window.be||{};var a={oldValue:"",newValue:"",setValue:function(c){this.newValue=be.utils.formatAllowedName(c)},sync:function(){this.oldValue=this.newValue},clear:function(){this.oldValue="";this.newValue=""},like:function(c){return this.oldValue===be.utils.formatAllowedName(c)},$template:function(c){return b('<span class="bd-inPlaceEditor"><input size="5" class="bd-newurl" value="'+c+'" /><button class="bd-button bd-green bd-roundcorner-3">Ok</button><button class="bd-buttonText">Cancel</button><label class="bd-editIncomplete error" style="display:none">Please click OK or Cancel.</label></span>')}};bd.initEditable=function(c){var f,e,d;c=c||jQuery(window);e=b(".bd-editable",c);a.clear();c.on("click.editable",".bd-editableContainer",function(g){bd.editable(e,c);return false}).on("keyup.editable blur.editable",".bd-titleInput",function(){a.setValue(this.value);f=f||jQuery(".bd-nameEditable",this.form);if(a.like(f.text())){f.text(a.newValue);d=d||(this.form.newPortalName?b(this.form.newPortalName):this.form.portalName?b(this.form.portalName):null);if(d){d.val(a.newValue).trigger("keyup")}}a.sync()})};bd.editable=function(d,o,f){var q,c,p;var s,k,i;d=jQuery(d);o=o||d.parents("form");f=f||be.utils.formatAllowedName;q=d.attr("for");c=jQuery("#"+q,o).first();s=c.attr("maxlength");k=d.parents(".bd-editableContainer");i=a.$template(d.text());if(k.length){k.after(i).hide()}else{d.after(i).hide()}var m=jQuery("input",i).select(),n=jQuery(".bd-button",i),h=jQuery(".bd-buttonText",i),r=jQuery(".bd-newurl",i),e=jQuery(".bd-buttonEditable"),g=jQuery(".bd-updatePage"),v=jQuery(".bd-editIncomplete");if(s){m.attr("maxlength",s)}var j=function(){if(k.length){k.show()}else{i.prev("span").show()}jQuery(":input",i).unbind();i.remove()};var t=function(w){if(w){v.text(w)}else{v.text("Please click OK or Cancel.")}v.delay(200).slideDown()};var l=function(){g.removeAttr("disabled").removeClass("bd-gradient-grey-disabled")};var u=function(x){x.preventDefault();var w=f(m.val());c.val(w);a.oldValue=w;d.text(w).show();c.trigger("keyup").trigger("changed");v.hide();l();j()};e.on("click",function(){g.attr("disabled","disabled").addClass("bd-gradient-grey-disabled")});r.bind("blur",function(){t()});n.on("click",u);h.on("click",function(w){w.preventDefault();l();j();bc.component.addKeyboardAccess(o)});o.submit(function(w){j()});bc.component.addKeyboardAccess(o);setTimeout(function(){m.focus()},400)};bd.ResourceTracker=function(){this.counter=0;this.numberOfResources=0;var c=this;this.isComplete=function(){return c.counter>=c.numberOfResources}};bd.showHover=function(h,d,g){var c=jQuery(h);var f=c.position().top-40;var e=c.position().left;c.append('<div id="propagatePopup" class="bd-operationCompleteMsg" style="position: absolute; top: '+f+"; left: "+e+';">'+g+"</div>")};bd.hideHover=function(d){var c=jQuery(d);c.find("#propagatePopup").remove()};bd.enableSwitch=function(h,g){if(typeof h==="string"){h=jQuery("#"+h)}var e="toggle-checked";var f,c,d;h.each(function(){var i=jQuery(this);var k=function(l){if(l){c.addClass(e)}else{c.removeClass(e)}};if(i.is('input[type="checkbox"]')){f=i;var j=f.attr("checked")=="checked";f.wrap('<p class="field toggle-switch"><label></label></p>');c=f.closest("label");d=f.closest("p.toggle-switch")}else{c=h.find("label");f=h.find('input[type="checkbox"]');d=h}c.append('<span class="toggle-mask"></span>');f.click(function(l){k(this.checked);f.attr("checked",this.checked);if(g){g(jQuery(this))}});k(f.attr("checked")=="checked")});return d};bd.operationCompleteMsg=function(f,c){console.log("DEPRECATED: bd.operationCompleteMsg - Please use bc.component.notify");if(c==null){c="checkboxË™Icon"}var e=jQuery("body");var d=jQuery('<div class="bd-msgWrapper" style="opacity:0;"><div class="bd-operationCompleteMsg"><div class="bd-msgIcon bd-'+c+'"></div>'+f+"</div></div>");jQuery(".bd-msgWrapper").remove();e.prepend(d);var g=0;if(jQuery(".bd-msgWrapper").length>1){g=jQuery(".bd-msgWrapper").length*30}d.css({"margin-left":-d.width()/2});d.animate({top:"+=10px",opacity:1},{duration:500,queue:false});d.fadeIn("slow").animate({top:"+=10px"},{duration:"slow",queue:false});setTimeout(function(){d.fadeOut("slow").animate({top:"+=10px"},{duration:"slow",queue:false},function(){d.remove()})},2000)};bd.publishItemAndChildren=function(d,c,e,f){console.log("Deprecated publish function.  Please remove from script.")};jQuery(document).ready(function(){if(be&&be.closeAllDialog&&be.closeCurrentDialog){jQuery(".bd-homeIcon").click(be.closeAllDialog);jQuery(".bd-closeIcon").click(be.closeCurrentDialog);var c=function(){var f=be.dialogContainersStack[be.dialogContainersStack.length-1];if(f&&f.attr("data-respondToEscKey")!="true"){be.utils.log("ESC action ignored by dialog preference","dashboard.js");return}var d=b(".bc-modal:visible");if(d.length){d.find(".bc-close").trigger("click");return}var e=jQuery(".bd-dialog-wrapper.standAlone");if(e.length>0){be.closeCurrentDialog(f.data("params"))}else{jQuery(".bd-closeIcon").click()}};jQuery(document).on("keydown.dashboard",function(d){d=d||window.event;if(d.keyCode==27){setTimeout(c,200)}})}});bd.populateForm=function(d,c){jQuery("[name]",d).each(function(){var e=this.getAttribute("name");if(c[e]&&c[e]["#text"]){var g=c[e]["#text"];var f=(this.getAttribute("type")||"").toLowerCase();switch(f){case"checkbox":this.checked=(g=="true");break;default:this.value=g}}})};jQuery(document).delegate(".bd-tabLabel","click",function(){var d=this.getAttribute("for")||this.getAttribute("data-for");if(d){var c=jQuery(this).parents(":has(.bd-tabs)");if(c.length&&!jQuery(this).hasClass("bd-activeTab")){jQuery(".bd-tabLabel, .bd-tab",c[0]).removeClass("bd-activeTab");jQuery(d,c[0]).addClass("bd-activeTab");jQuery(this).addClass("bd-activeTab");bd.observer.notifyObserver(bd.notifications.pageMgmt.TAB_ACTIVATED,{tab:d})}}});bd.openHelp=function(c){var d=be.utils.processHTMLTemplate("help-"+c);be.openDialog({htmlContent:d});return false};bd.toggleDropdown=function(d){var c=this;if(jQuery(".bd-dropdown",this).slideToggle("fast",function(){if(jQuery(this).is(":hidden")){jQuery(c).removeClass("bd-open")}}).is(":visible")){jQuery(c).addClass("bd-open")}if(typeof d=="object"){jQuery(".bd-dropdowncheckbox.bd-open").not(this).each(bd.toggleDropdown);d.stopImmediatePropagation()}};bd.toggleDropdownInit=function(){jQuery(document.body).delegate(".bd-dropdowncheckbox,.bd-slideupcheckbox","click",bd.toggleDropdown);jQuery(document.body).click(function(){jQuery(".bd-dropdowncheckbox.bd-open").each(bd.toggleDropdown)});jQuery(document.body).delegate(".bd-dropdowncheckbox .bd-checkbox, .bd-slideupcheckbox .bd-checkbox","click",function(c){c.stopPropagation()})}})(jQuery);(function(b,a){if(a&&a.utils&&a.utils.browserDetection){document.getElementsByTagName("html")[0].className+=a.utils.browserDetection()}if(!window.console){window.console={log:function(e,c){var d=function(g,f){if(typeof g==="object"||typeof g==="array"){var h="";b.each(g,function(j,k){h+=Array(f).join("\t")+j+": "+d(k,f+1)});return h+"\n"}else{return g+"\n"}};if(c){alert(d(e,0))}}}}})(window.jQuery,window.be);